<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type="text/xsl" href="http://localhost:4321/xml/base.min.xml" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Núcleo Integrado de Pesquisa Econômica</title>
    <link>http://localhost:4321/</link>
    <description>Recent content on Núcleo Integrado de Pesquisa Econômica</description>
    <generator>Hugo</generator>
    <language>pt-BR</language>
    <lastBuildDate>Wed, 01 Jan 2025 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:4321/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Explorando o mercado de capitais em R</title>
      <link>http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/</link>
      <pubDate>Wed, 01 Jan 2025 00:00:00 +0000</pubDate>
      <guid>http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/</guid>
      <description>&lt;hr&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;h1 id=&#34;introdução&#34;&gt;&#xA;  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/#introdu%c3%a7%c3%a3o&#34;&gt;Introdução&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;Na área de finanças, conhecer as cotações e as tendências do mercado de capitais é fundamental para uma tomada de decisão eficiente. Bancos, corretoras e intermediadoras financeiras geralmente dispõem de ferramentas que auxiliam o tomador de decisão quanto à escolha de ativos por meio de gráficos de cotações e indicadores financeiros. Contudo, essa tarefa pode ser facilmente executada na linguagem &lt;em&gt;R&lt;/em&gt; usando a biblioteca &lt;em&gt;quantmod&lt;/em&gt; e bibliotecas auxiliares. O objetivo desse post é mostrar como essa biblioteca pode auxiliar na análise financeira, no aprendizado e na resolução de problemas referentes ao mercado de capitais.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;h1 id=&#34;importando-dados-do-mercado-de-capitais&#34;&gt;&#xA;  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/#importando-dados-do-mercado-de-capitais&#34;&gt;Importando dados do mercado de capitais&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;O primeiro passo para explorar os dados do mercado de capitais é instalar e liberar a biblioteca.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;#install.packages(&amp;quot;quantmod&amp;quot;)&#xA;library(quantmod)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code&gt;FALSE Carregando pacotes exigidos: xts&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code&gt;FALSE Carregando pacotes exigidos: zoo&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code&gt;FALSE &#xA;FALSE Anexando pacote: &#39;zoo&#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code&gt;FALSE Os seguintes objetos são mascarados por &#39;package:base&#39;:&#xA;FALSE &#xA;FALSE     as.Date, as.Date.numeric&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code&gt;FALSE Carregando pacotes exigidos: TTR&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code&gt;FALSE Registered S3 method overwritten by &#39;quantmod&#39;:&#xA;FALSE   method            from&#xA;FALSE   as.zoo.data.frame zoo&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Tendo instalado e liberado a biblioteca, o próximo passo é importar as cotações dos ativos. Essa tarefa é feita usando a função &lt;em&gt;getSymbols&lt;/em&gt;, a qual requer o código de negociação do ativo, de tal modo que, se o ativo for brasileiro esse código deve ser precedido da string &lt;em&gt;&amp;quot;.SA&amp;quot;&lt;/em&gt;. Para exemplificar, considere importar as cotações da empresa Vale, com código de negociação &lt;em&gt;&amp;ldquo;VALE3&amp;rdquo;&lt;/em&gt;.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;getSymbols(&amp;quot;VALE3.SA&amp;quot;)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;pre&gt;&lt;code&gt;FALSE [1] &amp;quot;VALE3.SA&amp;quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;O resultado é um dataframe com o preço de abertura &lt;em&gt;&amp;ldquo;VALE3.SA.Open&amp;rdquo;&lt;/em&gt;, o preço máximo &lt;em&gt;&amp;ldquo;VALE3.SA.High&amp;rdquo;&lt;/em&gt;, o preço mínimo &lt;em&gt;&amp;ldquo;VALE3.SA.Low&amp;rdquo;&lt;/em&gt;, o preço de fechamento &lt;em&gt;&amp;ldquo;VALE3.SA.Close&amp;rdquo;&lt;/em&gt;, o volume negociado &lt;em&gt;&amp;ldquo;VALE3.SA.Volume&amp;rdquo;&lt;/em&gt; e o preço ajustado no &lt;em&gt;after market&lt;/em&gt; &lt;em&gt;&amp;ldquo;VALE3.SA.Adjusted&amp;rdquo;&lt;/em&gt;.&lt;/p&gt;&#xA;&lt;p&gt;Um gráfico simples da série pode ser gerado com o seguinte comando:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;plot(Cl(VALE3.SA), col = &#39;black&#39;)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;img src=&#34;http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/index_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;h1 id=&#34;visualizando-os-dados&#34;&gt;&#xA;  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/#visualizando-os-dados&#34;&gt;Visualizando os dados&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;Um gráfico de velas pode ser elaborado usando a função &lt;em&gt;candleChart&lt;/em&gt;. Para facilitar a visualização, considere representar na figura apenas o ano de 2023.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;candleChart(VALE3.SA[&amp;quot;2023&amp;quot;])&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;img src=&#34;http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/index_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;672&#34; /&gt;&#xA;&lt;p&gt;A biblioteca dispões de temas prontos que facilitam a visualização das cotações e personalizam a figura gerada. Por exemplo:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;candleChart(&#xA;  VALE3.SA,&#xA;  theme = &amp;quot;white&amp;quot;,&#xA;  subset = &#39;2023-06::2023-12&#39;&#xA;)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;img src=&#34;http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/index_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; /&gt;&#xA;&lt;p&gt;Agora considere que seja interessante mudar a cor dos candles de acordo com a variação da cotação, de modo que, caso a cotação suba, então o candle deve ter cor azul e caso a cotação caia o candle deve ter cor vermelha. Nesse caso, deve-se proceder da seguinte maneira:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;candleChart(&#xA;  VALE3.SA,&#xA;  theme = chartTheme(&amp;quot;white&amp;quot;, up.col = &amp;quot;blue&amp;quot;, dn.col = &amp;quot;red&amp;quot;),&#xA;  subset = &#39;2023-06::2023-12&#39;&#xA;)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;img src=&#34;http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/index_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&#xA;&lt;p&gt;Alguns indicadores podem ser incluídos na figura. Por exemplo, uma média móvel pode ser adicionada com a função &lt;em&gt;addSMA&lt;/em&gt;, que deve ser requerida logo após a geração do gráfico de velas. No caso de uma média móvel de sete semanas, deve-se proceder como:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;addSMA(n = 7*5)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;img src=&#34;http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/index_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; /&gt;&#xA;&lt;p&gt;Use a função &lt;em&gt;addBBands()&lt;/em&gt; para adicionar bandas de bollinger ao gráfico de velas.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;addBBands()&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;img src=&#34;http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/index_files/figure-html/unnamed-chunk-10-1.png&#34; width=&#34;672&#34; /&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;h1 id=&#34;conclusões&#34;&gt;&#xA;  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/#conclus%c3%b5es&#34;&gt;Conclusões&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;A linguagem &lt;em&gt;R&lt;/em&gt; dispõe de ferramentas bastante úteis para lidar com o mercado de capitais e a biblioteca &lt;em&gt;quantmod&lt;/em&gt; é uma das mais completas e eficientes na parte de visualização dos dados. Maiores detalhes podem ser consultados em &lt;a href=&#34;https://www.quantmod.com/&#34;&gt;https://www.quantmod.com/&lt;/a&gt;.&lt;/p&gt;&#xA;&#xA;&#xA;&#xA;&#xA;&lt;h1 id=&#34;referências&#34;&gt;&#xA;  &lt;a class=&#34;Heading-link u-clickable&#34; href=&#34;http://localhost:4321/2025/01/01/explorando-o-mercado-de-capitais-em-r/#refer%c3%aancias&#34;&gt;Referências&lt;/a&gt;&#xA;&lt;/h1&gt;&#xA;&lt;p&gt;quantmod. &lt;strong&gt;Quantitative Financial Modelling &amp;amp; Trading Framework for R&lt;/strong&gt;. &lt;a href=&#34;https://www.quantmod.com/&#34;&gt;https://www.quantmod.com/&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;/p&gt;&#xA;</description>
    </item>
  </channel>
</rss>
